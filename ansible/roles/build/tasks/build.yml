- name: Clone from git
  git:
    repo: https://github.com/khoribz/devops.git
    dest: ~/tmp
    force: yes

- name: Create venv and install requirements
  shell: |
    python3 -m venv ~/tmp/venv
    source ~/tmp/venv/bin/activate
    pip3 install -r ~/tmp/app/requirements.txt

- name: Move artifacts
  command: cp ~/tmp ~/ready_app